<!doctype html>
<html >
<head>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!--[if lt IE 9]>
                <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
        <![endif]-->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />

  <link rel="stylesheet" type="text/css" href="template.css" />

   <link href="templates/menu/css/video-js.css" rel="stylesheet" />



<script src="templates/menu/js/jquery.min.js"></script>
<script type='text/javascript' src='templates/menu/js/jquery.cookie.js'></script>
<script type='text/javascript' src='templates/menu/js/jquery.hoverIntent.minified.js'></script>
<script type='text/javascript' src='templates/menu/js/jquery.dcjqaccordion.2.7.min.js'></script>

<link href="templates/menu/css/skins/blue.css" rel="stylesheet" type="text/css" />
<link href="templates/menu/css/skins/graphite.css" rel="stylesheet" type="text/css" />
<link href="templates/menu/css/skins/grey.css" rel="stylesheet" type="text/css" />
  
<script src="templates/menu/js/MathJax.js"></script>
        
  
  <script src="templates/script.js"></script>
  
    <script src="templates/jquery.sticky-kit.js "></script>
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Example 2: write to disk" />
  <title>Tutorial 1: hello world</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../templates/template.css" />
</head>
<body>

    
    <div class="navbar navbar-static-top">
    <div class="navbar-inner">
      <div class="container">
        <span class="doc-title">Tutorial 1: hello world</span>
        <ul class="nav pull-right doc-info">
                    <li><p class="navbar-text">Example 2: write to disk</p></li>
                              <li><p class="navbar-text"><a href="http://openssi.net"><img src="../pics/ssi.png" /></a></p></li>
                  </ul>
      </div>
    </div>
  </div>
    <div class="container">
    <div class="row">
            <div id="TOC" class="span3">
        <div class="well toc">

        <ul>
        <li><a href="#load-additional-components"><span class="toc-section-number">1</span> Load additional components</a></li>
        <li><a href="#add-the-writers"><span class="toc-section-number">2</span> Add the writers</a></li>
        <li><a href="#record-on-demand"><span class="toc-section-number">3</span> Record on demand</a></li>
        <li><a href="#align-the-windows"><span class="toc-section-number">4</span> Align the windows</a></li>
        </ul>

        </div>
      </div>
            <div class="span9">
            <h1 id="load-additional-components"><span class="header-section-number">1</span> Load additional components</h1>
<p>We load two more plug-ins: <code>ioput</code> and <code>control</code>, which give us access to additional components. Check out the <a href="file:///F:/openssi/docs/api/index.html">API</a> to see which are those additional components. <a href="https://rawgit.com/hcmlab/ssi/master/docs/index.html#xml-basics-component">[See also]</a></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">&lt;register&gt;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    <span class="kw">&lt;load</span><span class="ot"> name=</span><span class="st">&quot;mouse&quot;</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    <span class="kw">&lt;load</span><span class="ot"> name=</span><span class="st">&quot;graphic&quot;</span><span class="kw">/&gt;</span>        </a>
<a class="sourceLine" id="cb1-4" data-line-number="4">    <span class="kw">&lt;load</span><span class="ot"> name=</span><span class="st">&quot;ioput&quot;</span><span class="kw">/&gt;</span>                </a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    <span class="kw">&lt;load</span><span class="ot"> name=</span><span class="st">&quot;control&quot;</span><span class="kw">/&gt;</span>            </a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">&lt;/register&gt;</span></a></code></pre></div>
<h1 id="add-the-writers"><span class="header-section-number">2</span> Add the writers</h1>
<p>The component we use to store streams is called <code>FileWriter</code>. It takes as input any type of stream and writes it to a file. Therefore we have to set an output path (option <code>path</code>) and also whether values should be stored in text (<code>type=&quot;1&quot;</code>) or binary format (<code>type=&quot;0&quot;</code>). Note that we use two different ways of setting the <code>frame</code> size, which determines the length of the chunks that a component receives. In the first case we specify the number of samples, i.e. the component will receive 10 values per chunk. In the second case we use <code>200ms</code> instead, i.e. the component will receive chunks with a size of 200 ms. Since the default sample rate a mouse sensor’s default sample rate is 50 Hz (which is 50 samples per second), this also corresponds to 10 samples per chunk. However, it changes with the sample rate of the input stream. <a href="https://rawgit.com/hcmlab/ssi/master/docs/index.html#xml-basics-visualization-storage">[See also]</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">&lt;consumer</span><span class="ot"> create=</span><span class="st">&quot;FileWriter&quot;</span><span class="ot"> path=</span><span class="st">&quot;cursor&quot;</span><span class="ot"> type=</span><span class="st">&quot;1&quot;</span><span class="ot"> overwrite=</span><span class="st">&quot;true&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">    <span class="kw">&lt;input</span><span class="ot"> pin=</span><span class="st">&quot;cursor&quot;</span><span class="ot"> frame=</span><span class="st">&quot;10&quot;</span><span class="kw">/&gt;</span>        </a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">&lt;/consumer&gt;</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw">&lt;consumer</span><span class="ot"> create=</span><span class="st">&quot;FileWriter&quot;</span><span class="ot"> path=</span><span class="st">&quot;button&quot;</span><span class="ot"> type=</span><span class="st">&quot;0&quot;</span><span class="ot"> overwrite=</span><span class="st">&quot;true&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">    <span class="kw">&lt;input</span><span class="ot"> pin=</span><span class="st">&quot;button&quot;</span><span class="ot"> frame=</span><span class="st">&quot;200ms&quot;</span><span class="kw">/&gt;</span>        </a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="kw">&lt;/consumer&gt;</span></a></code></pre></div>
<h1 id="record-on-demand"><span class="header-section-number">3</span> Record on demand</h1>
<p>The two writers we have added will immediately start a new recording (overwriting the previous one since <code>overwrite=true</code>) and continuously write until the pipeline is stopped. Sometimes we want to control when a recording starts and stops. To implement this, we add a <code>ControlCheckBox</code> and another <code>FileWriter</code>, which we assign the id <code>record</code>. By setting the id as the target of the check box (<code>id=record</code>), we instruct the check box to control the behavior of the writer. That is, a recording starts only the button is checked. By setting <code>overwrite=false</code> we make sure that subsequent calls will create new files (proper numbering is controlled by using <code>%(num,2)</code> in the path name). <a href="https://rawgit.com/hcmlab/ssi/master/docs/index.html#xml-advanced-record">[See also]</a></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">&lt;runnable</span><span class="ot"> create=</span><span class="st">&quot;ControlCheckBox:check&quot;</span><span class="ot"> id=</span><span class="st">&quot;record&quot;</span><span class="ot"> default=</span><span class="st">&quot;false&quot;</span><span class="ot"> label=</span><span class="st">&quot;RECORD&quot;</span><span class="kw">/&gt;</span>        </a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">&lt;consumer</span><span class="ot"> create=</span><span class="st">&quot;FileWriter:record&quot;</span><span class="ot"> path=</span><span class="st">&quot;cursor_on_demand_$(num,2)&quot;</span><span class="ot"> type=</span><span class="st">&quot;1&quot;</span><span class="ot"> overwrite=</span><span class="st">&quot;false&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    <span class="kw">&lt;input</span><span class="ot"> pin=</span><span class="st">&quot;cursor&quot;</span><span class="ot"> frame=</span><span class="st">&quot;10&quot;</span><span class="kw">/&gt;</span>        </a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw">&lt;/consumer&gt;</span></a></code></pre></div>
<h1 id="align-the-windows"><span class="header-section-number">4</span> Align the windows</h1>
<p>Finally, we align the check box by adding one more line to the <code>Decorator</code>. Done! <a href="https://rawgit.com/hcmlab/ssi/master/docs/index.html#xml-basics-consumer-visualization">[See also]</a></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">&lt;object</span><span class="ot"> create=</span><span class="st">&quot;Decorator&quot;</span><span class="ot"> icon=</span><span class="st">&quot;true&quot;</span><span class="ot"> title=</span><span class="st">&quot;Pipeline&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">    <span class="kw">&lt;area</span><span class="ot"> pos=</span><span class="st">&quot;0,0,400,500&quot;</span><span class="kw">&gt;</span>console<span class="kw">&lt;/area&gt;</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">    <span class="kw">&lt;area</span><span class="ot"> pos=</span><span class="st">&quot;400,0,400,600&quot;</span><span class="kw">&gt;</span>paint*<span class="kw">&lt;/area&gt;</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">    <span class="kw">&lt;area</span><span class="ot"> pos=</span><span class="st">&quot;0,500,50,100&quot;</span><span class="kw">&gt;</span>check<span class="kw">&lt;/area&gt;</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">&lt;/object&gt;</span></a></code></pre></div>
            </div>
    </div>
  </div>
  <script src="templates/menu/js/video.js"></script>

</body>
</html>
